{
  "tags": [["技术", 1], ["测试", 1], ["测试2", 1], ["梦", 1], ["心理", 1], ["影评", 1]],
  "categories": [["置顶", 1], ["技术", 1], ["梦", 1], ["想想想", 1], ["影评", 1]],
  "pins": [6],
  "posts": [
    {"id": 6, "title": "部落格索引", "subtitle": "按分类、标签检索", "category": "置顶", "pinned": 1, "file": "content/posts/Index.md", "tags": [], "date": "2022-09-08T20:38:14.535860", "url_name": "Index", "content": "TODO: 欢迎文案\n\n按分类检索：\n\n<BlogIndex/>\n\n按主题检索：\n\n<BlogIndex mode=\"categories\"/>"},
    {"id": 5, "title": "用校园网搭建服务器！", "subtitle": "在宿舍折腾网络的一篇记录w", "tags": ["技术"], "category": "技术", "file": "content/posts/2022-01-30 Router.md", "date": "2022-01-30T00:00:00", "url_name": "2022-01-30-Router", "content": "# 用校园网搭服务器！\n\n欢迎欢迎！我是 UofT 的大一新生，这是我在宿舍折腾网络的一篇记录w\n\n## 1. 搭建 FRP 实现内网穿透\n \n\n\n## 2. OpenWRT 中继学校 WPA-EAP 网络实现远程重启\n\n搭建好内网穿透之后又遇到了新的问题——因为台式机服务器装的黑苹果配置不是很稳定，它有时候会整个屏幕绿掉，必须强制重启才行，应该是 kernel panic 吧。我不在宿舍的时候回宿舍重启又太麻烦了，如果可以远程重启...\n\n想起来之前摸鱼的时候看到向日葵有做过远程重启的设备，所以就去查了下，结果发现就只是一个智能插座，在主板上配置好插电自动开机就好啦。但是这又有一个问题——宿舍里所有的网络，无论是 UofT Wifi 还是 eduroam 还是有线以太网，都需要 WPA/WPA2/WPA3-Enterprise EAP PEAP MSCHAPv2 用户名+密码验证... 可是智能插座只支持简单的 WPA-PSK 密码验证。所以就需要一个可以连上外网、又可以开 WPA-PSK WiFi 的无线路由器了。\n\n刚开始，我想过几个不同的方案：\n\n### a. 用手机连 Wifi 开热点（失败）\n\n之前无意间发现了我的 Mi Mix2S (Android 11 EvolutionX) 可以边连 Wifi 边开热点，不知道是怎样实现的。所以我想，如果用旧的华为 Mate8 这样一边连着学校的 PEAP 一边开热点就可以了。但是开机之后，我发现 Mate8 的原生系统 Android 8 EMUI 8.0 并不支持同时连 Wifi 开热点。我听说用 VPN Hotspot 可以实现无线中继，下载试了下却发现没有 Root 就不能改 SSID 和密码，每次开的 SSID 和密码都是随机的。所以花了超级多精力解锁 BootLoader、刷 Magisk、然后发现 Root 之后也不能改无线中继的 SSID 和密码... 改完之后重开中继的 SSID 还是 DIRECT-{随机}-HUAWEI, 密码还是八位随机字符。不过还是试了下用智能插座连这个无限中继，只能赌无线中继不会重启、不会关机、不会被电源管理杀掉... \n\n结果是，在台式死机之前智能插座就先下线了，回宿舍看了一眼发现手机不知道为什么重启进 Recovery 了。失败失败（\n\n### b. 用手机连数据卡开热点（太贵了）\n\n然后想到如果可以再买一张手机卡只用来开热点就解决了嘛，但是发现这边不像国内那样 ￥10/mo 就能买一张卡，这边最便宜的流量卡要 CA$15/mo，换算出来要 ￥75/mo 了，够买一个路由器了（\n\n### c. 用路由器中继\n\n然后就是现在的解决方案啦，用路由器中继学校的 PEAP。首先要做的是买一个路由器，可是这边新的路由器也真的很贵，亚马逊上最便宜的 TP-Link AC750 要 $35 = ￥175... 所以去二手市场逛了逛，很幸运的看到了附近有人 $10 出路由器，一个 Netis WF2780 和一个小米路由 R4。\n\n首先试了 WF2780，但是它好像没接好 WAN 就完全不能用的样子，SYS 灯一直在闪，网线连上电脑也没办法获取到 IP，手动分配 IP 到 192.168.1.2 也进不去管理页面。可能是坏了吧，也可能这个路由器本来就是这样？不懂，下一个（\n\n然后试了 R4，可是用小米官方的固件，无限桥接模式并不能连上 PEAP 验证的 UofT Wifi 或者 eduroam，有线桥接模式把 WAN 口接上也提示识别错误。所以只能试试 OpenWRT 啦。\n\n### 1. 给小米路由 R4 刷 OpenWRT\n\n这里我跟了 https://www.wyr.me/post/619 这个教程，很轻松地就刷好了！\n\n在电脑上要做的事情：\n\n1. 网线连上路由器，登录管理后台（我是 http://192.168.31.1)\n2. 复制管理后台登录之后 URL 里面的 stok 参数\n3. 执行以下指令，输入路由器的 IP 和刚才复制的 stok\n\n```sh\ngit clone https://github.com/acecilia/OpenWRTInvasion\ncd OpenWRTInvasion\npip3 install -r requirements.txt\npython3 remote_command_execution_vulnerability.py\n```\n\n然后就有 ssh 啦！接下来用了这个固件：https://github.com/ioiotor/mir4-ss，下载 [openwrt-ramips-mt7621-xiaomi_mir4-squashfs-kernel1.bin](https://github.com/ioiotor/mir4-ss/releases/download/V19.07.4/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-kernel1.bin) 和 [openwrt-ramips-mt7621-xiaomi_mir4-squashfs-rootfs0.bin](https://github.com/ioiotor/mir4-ss/releases/download/V19.07.4/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-rootfs0.bin)\n\n4. 在电脑上执行以下指令：\n\n```sh\nmkdir temp\ncd temp\nwget https://github.com/ioiotor/mir4-ss/releases/download/V19.07.4/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-kernel1.bin\nwget https://github.com/ioiotor/mir4-ss/releases/download/V19.07.4/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-rootfs0.bin\npython3 -m http.server\n```\n\n5. 登录进 SSH Shell 之后在路由器上执行指令：\n\n```sh\ncd /tmp\nwget http://{电脑 IP 地址}/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-kernel1.bin\nwget http://{电脑 IP 地址}/openwrt-ramips-mt7621-xiaomi_mir4-squashfs-rootfs0.bin\nmtd write openwrt-ramips-mt7621-xiaomi_mir4-squashfs-kernel1.bin kernel1\nmtd write openwrt-ramips-mt7621-xiaomi_mir4-squashfs-rootfs0.bin rootfs0\nnvram set flag_try_sys1_failed=1\nnvram commit\nreboot\n```\n\n然后就好啦，重启之后就是 OpenWRT 了（虽然默认没有开 WLAN，所以只能网线连到路由器）\n\n### 2. OpenWRT 连接到 PEAP 网络\n\n登录上管理页面，改完管理密码之后，我试了直接把 wlan0 改成 client mode 去连学校的网，但是发现这里也只支持密码验证的 WPA-PSK 而不支持用户名+密码的 WPA-EAP。然后查了一下发现只要把预装的 wpad-basic 换成完整的 wpa-cli + wpa-supplicant + hostapd 就可以了。但是还有一个问题就是我的路由器现在没有网，所以不能在线安装软件包。我的解决方案是用电脑先连上学校的 WIFI，再把电脑的网线连到路由器的 LAN 口上，然后在电脑上开桥接模式路由器就有网了！\n\n之后，ssh 进路由器，执行以下指令：\n\n```sh\nopkg update\nopkg remove wpad-basic\nopkg install wpa-cli wpa-supplicant hostapd nano\nreboot\n```\n\n等重启好之后，管理页面里面 Wireless Security 那一栏的验证方式里面就有 WPA2-EAP 了！接下来把学校的验证信息填进去，然后保存就连上啦！UofT 的配置如下：\n\n```txt\nEncryption : WPA2-EAP (strong security)\nCipher     : auto\nEAP-Method : PEAP\n...\nCertificate Constraaint (Domain) : radius.wireless.utoronto.ca\n...\nAuthentication : EAP-MSCHAPv2\nIdentity       : 你的 UTORid\nPassword       : 你的 UTORid 密码\n```\n\n接下来把 WIFI 配置一下，让智能插座连上这个 WIFI 就好了！"},
    {"id": 4, "title": "一个测试文稿", "subtitle": "你好，世界", "tags": ["测试", "测试2"], "file": "content/posts/2021-12-28 Test Post.md", "date": "2021-12-28T00:00:00", "url_name": "2021-12-28-Test-Post", "content": "Testing content 🌏\n\n你到底有多无聊（？？"},
    {"id": 3, "title": "651层", "title_image": "content/images/2021-12-07 earth.jpg", "tags": ["梦"], "category": "梦", "file": "content/posts/2021-12-07 651层.md", "date": "2021-12-07T00:00:00", "url_name": "2021-12-07-651层", "content": "今天又做了一个特别特别奇怪的梦，试试把它写成一段故事w\n\n梦见坐电梯，狭小的电梯里挤了很多人。我要去 28 层，可是电梯快要停下的时候楼层突然从 28 变到了 651 层... 看电梯里的其他人并没有很惊讶的反应，应该是正常情况，显示错了吧。我下去了，走廊里特别华丽，但是找房间的时候发现房间号也全都是 651 开头，从边上的无框窗向下看能直接看到半个地球...\n\n我赶快回到电梯口按了下，刚碰到按钮门就打开了。这次是很华丽的电梯，四边都是无框窗，中间看起来像旧时代的写字桌上有无数个楼层按钮。我按下 28 层，电梯关上门，说了一句 \"calculating action\"，两声警报后突然开始自由落体... 我的脚稍微离开地面，浮在电梯中心。几秒后缓慢减速，写字桌收进地面，四面的墙也向上升起，变回了那个狭小的电梯。停下来，我的脚回到地面，门开了，是平常的 28 层。"},
    {"id": 2, "title": "Clive Wearing 的日记", "subtitle": "十五秒的记忆、开心又无意义的人生、人的自私愿望", "title_image": "content/images/2021-10-14 Clive Wearing journal.png", "tags": ["心理"], "category": "想想想", "file": "content/posts/2021-10-14 十五秒的记忆.md", "date": "2021-10-14T00:00:00", "url_name": "2021-10-14-十五秒的记忆", "content": "这是一个海马体因为脑炎失效的人写的一段日记——他没办法形成新的长期记忆，只拥有十五秒的短期记忆，因此他的时间是静止的，一遍一遍重复地体验着康复后第一次苏醒的喜悦。\n\n主观上，他也许是世界上最快乐的人，因为没有别人能像他那样重复体验注定短暂的幸福。回想一下这一年我最幸福、让我抑制不住微笑的那些瞬间——被这所学校录取、在三院拿到 HRT 处方、第一次穿短裙出门、在恋人身边入睡——这些最幸福时刻和人生的总长相比仿佛转瞬即逝。但是客观上，他的人生也最无意义的，每天的生活都一模一样，没有思想能被保留下来。如果你可以选择的话，你会想要这样无比开心却无意义的人生嘛？\n\n这里还有一件奇迹：他的恋人黛博拉到现在一直都在照顾他，到底要多么坚强才能照顾这样时间静止的人... 每次见面都像长眠醒来第一次见面一样充满一成不变的热情。如果是我，我肯定会被这样的热情压垮吧，又或许会觉得每天重复的对话无聊。而且更重要的是，虽然陪伴他会让他更开心，但是他并不会记得黛博拉为他做的事，可是黛博拉即使知道自己的付出不会被记住却仍然选择了付出... 如果我的恋人没法记得我做的事情，我还会为ta付出嘛？\n\n想起来小圆里的这一段对话：\n「你希望他能实现愿望吗？\n还是你想成为为他实现愿望的恩人呢？」"},
    {"id": 1, "title": "《尚气》感想", "subtitle": "桂桂评分：☆☆☆☆☆", "tags": ["影评"], "category": "影评", "file": "content/posts/2021-09-16 ShangChi Review.md", "date": "2021-09-16T00:00:00", "url_name": "2021-09-16-ShangChi-Review", "content": "今天去看了《尚气》，是我最喜欢的漫威电影了！虽然很想写影评，但是我其实很少看电影，也没有精力做严肃的分析和比较，所以就很随意地写写喜欢的地方和我得到的东西好啦w\n\n首先，这部电影对团体功劳的重视改变了我对美国剧本个人英雄主义的印象——这部电影中几乎每件成就都是缺了任何人都无法完成的。Katy 是没有经过特殊训练的普通人，打戏似乎没有她能插手的，但是她的长处和贡献也至关重要，比如在巴士上的那段打戏和去大罗的惊险路程中开好巴士，又比如在最终的战斗中射出解开困境的一箭。很喜欢 Katy 的自知之明——现实中没有什么是个人英雄能解决的，知道自己擅长什么并把擅长的事情做好就是对解决这些问题的最大的帮助吧。\n\n说到打戏，传统道家武术的温柔感和漫威 CG 的现代感结合起来真的很美！即使现实中母亲温柔善良的道家武术和父亲强硬果断的搏击武术相比很不实用，道家无疑更美。那两段感化了父亲的打戏也充分强调了一个温柔的心灵拥有的力量——与让仇人灰飞烟灭的强硬力量不同，这是让一位征服者放下拳头重审自我、互相理解的力量。强硬的做法往往是固执于自己的成见，就像父亲固执于相信征服是人生的乐趣、相信重新戴上十环就能解决一切、相信诱导着他的声音，击垮挡在面前的人，直到这两场温柔美丽的打戏。\n\n从父亲的固执中，传统权威家庭的压迫感和与进步思维的纠纷也传达到了。在穿插的回忆的片段里，尚气从出生就被赋予的继承期望、完成强加给他的残酷训练时迷茫的表情、看到父亲残忍的杀戮后咽下口水轻轻点头... 这些细节很深刻地传达了尚气对父亲的恐惧。在这样的传统家庭里我们永远是需要长大的小孩子，家长直到亲眼看到自己的错误前我们的意见永远是错的。逃出家长为我们规划的人生路线，走上独立思考后为自己决定的轨迹真的是很需要勇气和能力的事——不是证明自己让家人理解的能力，就是离开对家人的依靠独立生活的能力。尚气独立成长的时光中获得了拦在父亲面前的勇气和力量，可惜父亲还是选择了亲眼见证自己的错误。现实中，这一代的父母思维进步很多了，但是还有很多需要时间改变的事情，希望每个人都能拥有在权威面前坚持自我的勇气。\n\n这里还回应了传统观念的性别偏见。父母生下一男一女，男孩被寄予了继承的期望，女孩却被禁止参加训练，但是夏灵自学练出的结果说不定比尚气更好（这里并没有给明确的比较，应该是因为结果怎样都不太好，但是我更愿意相信这是想表达我们不需要和别人比较来评估自己的能力。）让夏灵有决心自己练好武术、成立地下搏击团的，是她反抗训练禁令、反抗刻板印象的心理状态。我相信就像夏灵那样，只要不让刻板印象成为自证预言，任何人感兴趣并且投入时间和资源去学某件事情都能做好。\n\n「这里不是你父亲的家，在大罗每个人都可以练武。是时候从影子里走出来了」\n\n最后，也许对我影响最深的，是尚气在成长中对困扰着很多留学生的无归属感的和解。尚气很小就离开了母亲家乡大罗道家教育的保护，进入了父亲的十环帮；十四岁就离开了中国，来到了洛杉矶。他既不属于大罗，也不属于十环帮；既不属于中国，也不属于美国——这样一种充满自我怀疑的无归属感一直伴随着他。但是在他和姨母对话之后，他的那场结合了太极和搏击的打戏中也能看出他的和解：他理解了他不需要归属于任何一边，这一段段不同的背景就是他的身份——与其纠结属于大罗还是属于十环帮，不如接受自己是这两边的中间者，把属于你的两边优点结合起来。同样的，与其纠结自己是中国人还是美国人，不如接受自己是两边之间的留学生，所以这就是我作为留学生看完《尚气》的感想，并没有觉得它辱华，反而成为了我最喜欢的漫威电影w"}
  ]
}